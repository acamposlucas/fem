<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="./images/favicon-32x32.png" />
		<title>Frontend Mentor | Order summary card</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<div class="app">
			<div class="card">
				<div class="card__img">
					<img src="images/illustration-hero.svg" alt="" />
				</div>
				<div class="card__content">
					<h1>Order Summary</h1>
					<p>
						You can now listen to millions of songs, audiobooks, and
						podcasts on any device anywhere you like!
					</p>
					<div class="plans">
						<div class="plans__container">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="48"
								height="48">
								<g fill="none" fill-rule="evenodd">
									<circle
										cx="24"
										cy="24"
										r="24"
										fill="#DFE6FB" />
									<path
										fill="#717FA6"
										fill-rule="nonzero"
										d="M32.574 15.198a.81.81 0 00-.646-.19L20.581 16.63a.81.81 0 00-.696.803V26.934a3.232 3.232 0 00-1.632-.44A3.257 3.257 0 0015 29.747 3.257 3.257 0 0018.253 33a3.257 3.257 0 003.253-3.253v-8.37l9.726-1.39v5.327a3.232 3.232 0 00-1.631-.441 3.257 3.257 0 00-3.254 3.253 3.257 3.257 0 003.254 3.253 3.257 3.257 0 003.253-3.253V15.81a.81.81 0 00-.28-.613z" />
								</g>
							</svg>
							<div class="box">
								<strong id="planType">Annual Plan</strong>
								<span id="planPrice">$59.99/year</span>
							</div>
						</div>
						<div>
							<select
								id="selectPlanInput"
								class="selectPlanInput"
								aria-visible="">
								<option value="1">Annual Plan</option>
								<option value="2">Monthly Plan</option>
							</select>
							<button type="button" id="changePlanButton">
								Change
							</button>
						</div>
					</div>
					<div class="actions">
						<button type="button" id="paymentButton">
							Proceed to Payment
						</button>
						<a href="#">Cancel Order</a>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script text="text/javascript" defer>
		const planType = document.getElementById("planType");
		const planPrice = document.getElementById("planPrice");
		const changePlanButton = document.getElementById("changePlanButton");
		const selectPlanInput = document.getElementById("selectPlanInput");

		const plans = [
			{ id: 1, type: "Annual Plan", price: "$59.99/year" },
			{ id: 2, type: "Monthly Plan", price: "$39.99/year" },
		];

		let selectedPlan = plans.find((p) => p.id == selectPlanInput.value);
		selectPlanInput.value = selectedPlan.id;

		changePlanButton.addEventListener("click", () => {
			selectPlanInput.toggleAttribute("aria-visible");
		});

		selectPlanInput.onchange = () => {
			plans.forEach((plan, i) => {
				if (plan.id == selectPlanInput.value) {
					planType.innerText = plan.type;
					planPrice.innerText = plan.price;
					selectedPlan = plans[i];
					selectPlanInput.toggleAttribute("aria-visible");
				}
			});
		};

		paymentButton.onclick = (e) => {
			e.preventDefault();
			const data = selectedPlan;
			console.log(data);
		};
	</script>
</html>
